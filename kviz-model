class Kviz:

def igra():
    tocke = 0
    with open("vprasanja.json", 'r+') as f: #'r+' pomeni for reading and writing

        j = json.load(f)

        for i in range(10):
            stevilo_vprasanj = len(j)
            ch = random.randint(0, stevilo_vprasanj - 1)
            print(f'\nQ{i + 1} {j[ch]["vprašanje"]}\n') #\n je new line

            for option in j[ch]["options"]:
                print(option)
            odgovor = input("\n Odgovor:")

            pravilno = j[ch]["odgovor"][0] == odgovor[0].upper()
            if pravilno: 
                tocke += 1
            else:
                break

            del j[ch]
        
        print(f'\n KONČNI REZULTAT: {tocke}')

def vprasanja_kviza():
    if len(uporabnik) == 0:
        print("Preden lahko dodajate vprašanja, se morate prijaviti!")

    elif len(uporabnik) == 2:
        if uporabnik[1] == "ADMIN":
            for _ in range(3):
                opt.append(input())
            odg = input("Dodaj vprašanje: \n")

     with open("vprasanja.json", 'r+') as f:
                vprasanja = json.load(f)
                dic = {"vprašanje": vpr, "možnosti": opt, "odgovor": odg}
                vprasanja.append(dic)
                f.seek(0)
                json.dump(vprasanja, f)
                f.truncate #truncate zmanjša velikost file-a
                
        
def ustvari_racun():
    uporabnisko_ime = input("UPORABNIŠKO IME: ")
    geslo = getpass.getpass(prompt= 'GESLO: ')

    with open('uporabnik_account.json', 'r') as uporabniski_racuni:
        uporabniki = json.load(uporabniski_racuni)

    if uporabnisko_ime not in uporabnik.keys():
        print("Račun s tem imenom ne obstaja. \n Prosim, najprej si ustvarite račun!")
    elif uporabnisko_ime in uporabnik.keys():
        if uporabniki[uporabnisko_ime][0] != geslo:
            print("Vaše geslo ni pravilno.\n Prosim, ponovno vnestie geslo in poskusite znova.")
        elif uporabniki[uporabnisko_ime][0]== geslo:
            print("Uspešno ste se prijavili. \n")
            uporabnik.append(uporabnisko_ime)
            uporabnik.append(uporabniki[uporabnisko_ime][1])

def prijava_racun():
    uporabnisko_ime = input("UPORABNIŠKO IME: ")
    geslo = getpass.getpass(prompt= 'GESLO: ')

    with open('uporabnik_account.json', 'r') as uporabniski_racuni:
        uporabniki = json.load(uporabniski_racuni)

    if uporabnisko_ime in uporabnik.keys():
        if uporabniki[uporabnisko_ime[0]] == geslo:
            uporabnik.append(uporabnisko_ime)
            uporabnik.append(uporabniki[uporabnisko_ime][1])

def odjava():
    global uporabnik

def system():
    if __ime__ == "__main__":
    moznost = 1

    if moznost == 1:
            igra()
        elif moznost == 2:
            vprasanja_kviza()
        elif moznost == 3:
            ustvari_racun()
        elif moznost == 4:
            prijava_racun()
        elif moznost == 5:
            odjava()
        elif moznost == 6:
            pravila()
        elif moznost == 7:
            break
        elif moznost == 8:
            o_kvizu()
        else:
            print("Neveljavna izbira, poskusi znova!")
